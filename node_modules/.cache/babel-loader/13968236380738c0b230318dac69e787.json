{"ast":null,"code":"import Pubsub from 'pubsub-js'; //引入消息订阅与发布\n\nexport default {\n  name: 'BroadCast',\n\n  data() {\n    return {\n      videoUrl: null\n    };\n  },\n\n  methods: {\n    async getVideoUrl(id) {\n      const {\n        data: res\n      } = await this.$http.get('/mv/url', {\n        params: {\n          id\n        }\n      });\n      this.videoUrl = res.data.url;\n      console.log(this.videoUrl);\n    }\n\n  },\n\n  created() {\n    Pubsub.subscribe('getURL', (msgName, data) => {\n      this.getVideoUrl(data);\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAKA,+B,CAAA;;AACA;EACAA,iBADA;;EAEAC;IACA;MACAC;IADA;EAGA,CANA;;EAOAC;IACA;MACA;QAAAF;MAAA;QACAG;UACAC;QADA;MADA;MAKA;MACAC;IACA;;EATA,CAPA;;EAkBAC;IACAC;MACA;IACA,CAFA;EAGA;;AAtBA","names":["name","data","videoUrl","methods","params","id","console","created","Pubsub"],"sourceRoot":"src/components/videoplay","sources":["BroadCast.vue"],"sourcesContent":["<template>\r\n    <video :src=\"videoUrl\" width=\"3rem\" height=\"3rem\"></video>\r\n</template>\r\n\r\n<script>\r\nimport Pubsub from 'pubsub-js' //引入消息订阅与发布\r\nexport default { \r\n    name:'BroadCast',\r\n    data(){\r\n        return {\r\n            videoUrl:null\r\n        }\r\n    },\r\n    methods:{\r\n        async getVideoUrl(id){\r\n            const {data:res} = await this.$http.get('/mv/url',{\r\n                params:{\r\n                    id\r\n                }\r\n            })\r\n            this.videoUrl = res.data.url\r\n            console.log(this.videoUrl)\r\n        }\r\n    },\r\n    created(){\r\n        Pubsub.subscribe('getURL',(msgName,data)=>{\r\n            this.getVideoUrl(data)\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}