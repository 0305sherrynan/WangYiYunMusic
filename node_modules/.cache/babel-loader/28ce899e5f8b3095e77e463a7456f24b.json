{"ast":null,"code":"export default {\n  name: 'discovery',\n\n  data() {\n    return {\n      banners: [],\n      //轮播图照片\n      CommandLists: [],\n      //推荐歌单列表\n      lateMusicLists: [],\n      //最新音乐\n      commandMV: [] //推荐音乐\n\n    };\n  },\n\n  methods: {\n    async getBanner() {\n      //获取轮播图照片\n      const {\n        data: res\n      } = await this.$http.get('/banner', {\n        params: {\n          type: 0\n        }\n      });\n      this.banners = res.banners;\n    },\n\n    async getCommandLists() {\n      //获取推荐歌单\n      const {\n        data: res\n      } = await this.$http.get('/personalized', {\n        params: {\n          limit: 12 //歌单数量\n\n        }\n      }); // console.log(data)\n\n      this.CommandLists = res.result;\n    },\n\n    async getLatestMusic() {\n      //获取最新音乐\n      const {\n        data: res\n      } = await this.$http.get('/personalized/newsong', {\n        params: {// limit:9  //取出的数量\n        }\n      });\n      this.lateMusicLists = res.result; // console.log(res)\n    },\n\n    async getCommandMV() {\n      //获取推荐MV\n      const {\n        data: res\n      } = await this.$http.get('/personalized/mv'); // console.log(data)\n\n      this.commandMV = res.result;\n    }\n\n  },\n\n  created() {\n    this.getBanner();\n    this.getCommandLists();\n    this.getLatestMusic();\n    this.getCommandMV();\n  }\n\n};","map":{"version":3,"mappings":"AAyDA;EACAA,iBADA;;EAEAC;IACA;MACAC,WADA;MACA;MACAC,gBAFA;MAEA;MACAC,kBAHA;MAGA;MACAC,aAJA,CAIA;;IAJA;EAMA,CATA;;EAUAC;IACA;MAAA;MACA;QAAAL;MAAA;QACAM;UACAC;QADA;MADA;MAKA;IACA,CARA;;IASA;MAAA;MACA;QAAAP;MAAA;QACAM;UACAE,SADA,CACA;;QADA;MADA,GADA,CAMA;;MACA;IACA,CAjBA;;IAkBA;MAAA;MACA;QAAAR;MAAA;QACAM,SACA;QADA;MADA;MAKA,iCANA,CAOA;IACA,CA1BA;;IA2BA;MAAA;MACA;QAAAN;MAAA,6CADA,CAEA;;MACA;IACA;;EA/BA,CAVA;;EA2CAS;IACA;IACA;IACA;IACA;EACA;;AAhDA","names":["name","data","banners","CommandLists","lateMusicLists","commandMV","methods","params","type","limit","created"],"sourceRoot":"src/components/discovery","sources":["Discovery.vue"],"sourcesContent":["<template>\n    <div class=\"box\"> \n        <!-- 轮播图 -->\n        <!-- <el-header></el-header> -->\n        <div class=\"carousel\">\n                <el-carousel :interval=\"4000\" type=\"card\" height=\"200px\">\n                    <el-carousel-item v-for=\"(item,index) in banners\" :key=\"index\">\n                    <!-- <h3 class=\"medium\">{{ item }}</h3> -->\n                    <img :src=\"item.imageUrl\" alt=\"\" class=\"banner_img\">\n                    </el-carousel-item>\n                </el-carousel>\n        </div>\n        <!-- 推荐歌单 -->\n        <div class=\"command\">\n                <el-row class=\"commandHead\" >\n                    <el-col :span=\"2.5\"  ><span >推荐歌单</span></el-col>\n                </el-row>\n                <div class=\"commandBox\">\n                    <div v-for=\"item in CommandLists\" :key=\"item.id\" class=\"commandSingleBox\">\n                        <img :src=\"item.picUrl\" alt=\"\" class=\"command_img\" @click=\"getSpecialLists(item.id,item)\">\n                        <span >{{item.name}}</span>\n                    </div>\n                </div>\n        </div>\n        <!-- 最新音乐 -->\n        <div class=\"latestMusic\">\n                <el-row class=\"commandHead\">\n                    <el-col :span=\"2.5\"><span>最新音乐</span></el-col>\n                </el-row>\n                <div >\n                    <div v-for=\"item in lateMusicLists\" :key=\"item.id\" class=\"latestSingleBox\">\n                        <img :src=\"item.picUrl\" alt=\"\" class=\"latest_img\" >\n                        <div class=\"latestText\">\n                            \n                                    <h3>{{item.name}}</h3>\n                                    <span>{{item.song.artists[0].name}}</span>\n                            \n                        </div>\n                    </div>\n                </div>\n        </div>\n        <!-- 最新MV -->\n        <div  class=\"latestMV\">\n            <el-row class=\"commandHead\">\n                <el-col :span=\"2.5\"><span>推荐MV</span></el-col>\n            </el-row>\n            <div>\n                <div v-for=\"item in commandMV\" :key=\"item.id\" class=\"MV_SingleBox\">\n                    <img :src=\"item.picUrl\" alt=\"\" class=\"MV_img\">\n                    <div class=\"MV_text\"><span>{{item.name}}</span></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name:'discovery',\n    data(){\n        return {\n            banners:[],//轮播图照片\n            CommandLists:[],//推荐歌单列表\n            lateMusicLists:[], //最新音乐\n            commandMV:[],//推荐音乐\n        }\n    },\n    methods:{\n        async getBanner(){ //获取轮播图照片\n            const {data:res}=await this.$http.get('/banner',{\n                params:{\n                    type:0\n                }\n            })\n            this.banners=res.banners\n        },\n        async getCommandLists(){  //获取推荐歌单\n            const {data:res}=await this.$http.get('/personalized',{\n                params:{\n                    limit:12 //歌单数量\n                }\n            })\n            // console.log(data)\n            this.CommandLists=res.result\n        },\n        async getLatestMusic(){  //获取最新音乐\n            const {data:res}=await this.$http.get('/personalized/newsong',{\n                params:{\n                    // limit:9  //取出的数量\n                }\n            })\n            this.lateMusicLists=res.result\n            // console.log(res)\n        },\n        async getCommandMV(){  //获取推荐MV\n            const {data:res}=await this.$http.get('/personalized/mv')\n            // console.log(data)\n            this.commandMV=res.result\n        }\n    },\n    created(){\n        this.getBanner()\n        this.getCommandLists()\n        this.getLatestMusic()\n        this.getCommandMV()\n    }\n}\n</script>\n\n<style scoped>\n  .el-header {\n    /* background-color: #B3C0D1; */\n    color: #333;\n    text-align: center;\n    line-height: 60px;\n    background-color: rgb(34, 34, 37);\n  }\n  .box {\n    /* 设置大小 */\n    width: 1200px;\n    /* 设置居中 */\n    margin: 0 auto; \n    /* background-color: rgb(177, 194, 203); */\n    /* 关闭自带的line-height */\n    line-height: 0;\n    height: 100%;\n    \n  }\n  /* 给所有小模块一个边框 */\n  .box>div{\n    border-radius: .5rem;\n  }\n  .el-carousel__item h3 {\n    /* color: #475669; */\n    color: rgb(208, 208, 208);\n    font-size: 14px;\n    opacity: 0.75;\n    line-height: 200px;\n    margin: 0;\n  }\n  \n  .el-carousel__item:nth-child(2n) {\n    background-color: #99a9bf;\n  }\n  \n  .el-carousel__item:nth-child(2n+1) {\n    background-color: #d3dce6;\n  }\n  /* 轮播图 */\n  .carousel{\n    height: 7rem;\n  }\n  .banner_img{\n    /* width: ; */\n    /* 设置轮播图图片大小 */\n    width: 12rem;\n    height: 4rem;\n   \n  }\n \n/* 推荐菜单 */\n.command{\n    /* display: flex; */\n    /* background-color: rgb(177, 194, 203); */\n     background-color: rgb(43, 43, 43);\n    /* 设置内边距 */\n    padding: 1rem;\n}\n\n.commandHead{\n    font-size: .5rem;\n    font-weight: 700;\n    text-align: left;\n    /* 字体垂直居中 */\n    height: 1rem;\n    line-height: 1rem;\n    /* 下外边距 */\n    margin-bottom: .5rem;\n} \n.commandBox{\n    /* 设置为flex布局 */\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n\n}\n.commandSingleBox{\n    /* 设置每个小块的宽度 */\nwidth: 5rem;\n/* 行内块 */\n/* display: inline-block; */\n/* 设置外边距 */\nmargin-bottom:1rem;\n/* height: 5rem; */\n}\n/* 文字叙述部分 */\n.commandSingleBox>span{\n    font-size: .3rem;\n    /* 宽度设置和图片一样，方便省略，不出格，美观 */\n    width: 4rem;  \n    height: .5rem;\n    line-height: .5rem;\n    /* 省略超出宽度的字 */\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n}\n.command_img{\n    /* 设置每张图片的大小 */\n    width: 4rem;\n    height: 4rem;\n    /* 设置为块元素 */\n    display: block;\n    border-radius: .5rem;\n}\n.command_img:hover{\n    cursor: pointer;\n}\n\n/* 最新 音乐 */\n.latestMusic{\n    /* display: flex; */\n    /* background-color: rgb(177, 194, 203); */\n     background-color: rgb(43, 43, 43);\n    /* 设置内边距 */\n    padding: 1rem;\n    /* 设置上边距 */\n    margin-top: 1rem;\n}\n.latestSingleBox{\n    /* 设置为行内块 */\n    display: inline-block;\n    width: 50%;\n    /* background-color: ; */\n    /* 设置子元素的对齐方式（根元素设置了为center） */\n    text-align: left;\n    /* 清除自带的line-height */\n    line-height: 0;\n}\n.latest_img{\n    width: 2rem;\n    height: 2rem;\n}\n.latestText{\n    font-size: .2rem;\n    line-height: .2rem;\n    /* width: 50%; */\n    display: inline-block;\n    /* text-align: top; */\n    /* 设置为相对定位 （此处思路本想再用一个父盒子，但是height设置不出为父元素的100%）*/\n    position: relative;\n    top: -1.3rem;\n    /*  */\n    padding-left:.2rem ;\n}\n\n\n/* 推荐MV */\n/* 大盒子 */\n.latestMV{\n        /* display: flex; */\n    /* background-color: rgb(177, 194, 203); */\n     background-color: rgb(43, 43, 43);\n    /* 设置内边距 */\n    padding: 1rem;\n    /* 设置上边距 */\n    margin-top: 1rem;\n    /* 清除line-height */\n    line-height: 0;\n}\n/* 每一个小盒子 */\n.MV_SingleBox{\n    /* 设置为行内块 */\n    display: inline-block;\n    /* 设置边距 */\n    margin-right: .3rem;\n}\n.MV_img{\n    width: 4.9rem;\n    height: 3rem;\n    border-radius: .4rem;\n}\n.MV_text{\n        font-size: .2rem;\n    line-height: .2rem;\n    /* 设置边距 */\n    margin-top: .21rem;\n}\n</style>"]},"metadata":{},"sourceType":"module"}